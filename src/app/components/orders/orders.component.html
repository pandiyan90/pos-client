<div class="container-fluid">
  <ul class="nav navbar-nav">
    <h2>My Order Details</h2>
  </ul>
  <app-new-order></app-new-order>
  <div>
    <table datatable [dtOptions]="dtOptions">
      <thead>
        <tr>
          <th>Order No</th>
          <th>Customer Name</th>
          <th>Customer Address</th>
          <th>Mobile Number</th>
          <th>Order Total</th>
          <th>Order DueDate</th>
          <th></th>
        </tr>
      </thead>
      <tbody *ngIf="orders?.length != 0">
        <tr *ngFor="let details of orders; let i = index">
          <td>{{ details.orderNumber }}</td>
          <td>{{ details.customerName }}</td>
          <td>{{ details.customerAddress }}</td>
          <td>{{ details.customerMobileNumber }}</td>
          <td>{{ details.orderTotal }}</td>
          <td>{{ details.orderDueDate | date }}</td>
          <td>
            <div class="button-group">
              <button
                type="button"
                class="btn btn-primary btn-sm"
                (click)="open(content, i)"
              >
                <i class="fa-solid fa-pen-to-square"></i>
              </button>
              <button
                type="button"
                class="btn btn-danger"
                (click)="onDelete(i)"
              >
                <i class="fa-solid fa-trash-can" aria-hidden="true"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
      <tbody *ngIf="orders?.length == 0">
        <tr>
          <td colspan="3" class="no-data-available">No data!</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Profile update</h4>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form (ngSubmit)="updateData(f)" #f="ngForm">
      <div class="form-group">
        <label for="orderNumber">Order No</label>
        <input
          type="number"
          class="form-control"
          id="orderNumber"
          required
          name="orderNumber"
          [(ngModel)]="orderNumber"
        />
      </div>
      <div class="form-group">
        <label for="customerName">Customer Name</label>
        <input
          type="text"
          class="form-control"
          id="customerName"
          required
          name="customerName"
          [(ngModel)]="customerName"
        />
      </div>
      <div class="form-group">
        <label for="customerAddress">Address</label>
        <input
          type="text"
          class="form-control"
          id="customerAddress"
          name="customerAddress"
          [(ngModel)]="customerAddress"
        />
      </div>
      <div class="form-group">
        <label for="customerMobileNumber">Mobile No</label>
        <input
          type="number"
          class="form-control"
          id="customerMobileNumber"
          required
          name="customerMobileNumber"
          [(ngModel)]="customerMobileNumber"
        />
      </div>
      <div class="form-group">
        <label for="orderTotal">Order Total</label>
        <input
          type="number"
          class="form-control"
          id="orderTotal"
          required
          name="orderTotal"
          [(ngModel)]="orderTotal"
        />
      </div>
      <div class="form-group">
        <label for="orderDueDate">Order Due Date</label>
        <input
          type="text"
          id="orderDueDate"
          class="form-control"
          name="orderDueDate"
          [(ngModel)]="orderDueDate"
        />
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </form>
  </div>
</ng-template>
